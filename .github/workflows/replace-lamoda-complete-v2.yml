name: Complete Mismatch ‚Üí Mismatch Replacement v2

on:
  workflow_dispatch:

jobs:
  replace:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Replace all Mismatch references (CamelCase + Title + lowercase + UPPERCASE)
        run: |
          echo "üîÑ Starting complete replacement process..."
          
          # REPLACEMENT 1: CamelCase –∫–ª–∞—Å—Å –∏–º–µ–Ω–∞ (MismatchJob, MismatchCandidate, etc)
          echo "1Ô∏è‚É£ Replacing MismatchJob ‚Üí MismatchJob"
          find . -type f \( -name "*.py" -o -name "*.md" -o -name "*.yml" -o -name "*.yaml" -o -name "*.json" -o -name "*.txt" \) ! -path "./.git/*" ! -path "./.*" -exec sed -i 's/MismatchJob/MismatchJob/g' {} \;
          
          echo "2Ô∏è‚É£ Replacing MismatchCandidate ‚Üí MismatchCandidate"
          find . -type f \( -name "*.py" -o -name "*.md" -o -name "*.yml" -o -name "*.yaml" -o -name "*.json" -o -name "*.txt" \) ! -path "./.git/*" ! -path "./.*" -exec sed -i 's/MismatchCandidate/MismatchCandidate/g' {} \;
          
          echo "3Ô∏è‚É£ Replacing MismatchPlacement ‚Üí MismatchPlacement"
          find . -type f \( -name "*.py" -o -name "*.md" -o -name "*.yml" -o -name "*.yaml" -o -name "*.json" -o -name "*.txt" \) ! -path "./.git/*" ! -path "./.*" -exec sed -i 's/MismatchPlacement/MismatchPlacement/g' {} \;
          
          echo "4Ô∏è‚É£ Replacing MismatchSync ‚Üí MismatchSync"
          find . -type f \( -name "*.py" -o -name "*.md" -o -name "*.yml" -o -name "*.yaml" -o -name "*.json" -o -name "*.txt" \) ! -path "./.git/*" ! -path "./.*" -exec sed -i 's/MismatchSync/MismatchSync/g' {} \;
          
          echo "5Ô∏è‚É£ Replacing MismatchClient ‚Üí MismatchClient"
          find . -type f \( -name "*.py" -o -name "*.md" -o -name "*.yml" -o -name "*.yaml" -o -name "*.json" -o -name "*.txt" \) ! -path "./.git/*" ! -path "./.*" -exec sed -i 's/MismatchClient/MismatchClient/g' {} \;
          
          # REPLACEMENT 2: Title Case (Mismatch ‚Üí Mismatch)
          echo "6Ô∏è‚É£ Replacing Mismatch ‚Üí Mismatch (Title Case)"
          find . -type f \( -name "*.py" -o -name "*.md" -o -name "*.yml" -o -name "*.yaml" -o -name "*.json" -o -name "*.txt" \) ! -path "./.git/*" ! -path "./.*" -exec sed -i 's/Mismatch/Mismatch/g' {} \;
          
          # REPLACEMENT 3: lowercase (Mismatch ‚Üí mismatch)
          echo "7Ô∏è‚É£ Replacing Mismatch ‚Üí mismatch (lowercase)"
          find . -type f \( -name "*.py" -o -name "*.md" -o -name "*.yml" -o -name "*.yaml" -o -name "*.json" -o -name "*.txt" \) ! -path "./.git/*" ! -path "./.*" -exec sed -i 's/Mismatch/mismatch/g' {} \;
          
          # REPLACEMENT 4: UPPERCASE (Mismatch ‚Üí MISMATCH)
          echo "8Ô∏è‚É£ Replacing Mismatch ‚Üí MISMATCH (UPPERCASE)"
          find . -type f \( -name "*.py" -o -name "*.md" -o -name "*.yml" -o -name "*.yaml" -o -name "*.json" -o -name "*.txt" \) ! -path "./.git/*" ! -path "./.*" -exec sed -i 's/Mismatch/MISMATCH/g' {} \;
          
          echo "‚úÖ All replacements completed!"
          
          # Show summary
          echo ""
          echo "üìä SUMMARY OF CHANGES:"
          git diff --stat || echo "Checking for changes..."
      
      - name: Commit and push all changes
        run: |
          git config user.name "GitHub Actions Bot"
          git config user.email "actions@github.com"
          
          # Add all changes
          git add -A
          
          # Check if there are changes to commit
          if git diff --cached --quiet; then
            echo "‚ÑπÔ∏è  No changes to commit"
          else
            echo "üìù Committing changes..."
            git commit -m "refactor: Complete Mismatch ‚Üí mismatch replacement (CamelCase + Title + lowercase + UPPERCASE variants)"
            echo "üöÄ Pushing to master..."
            git push
            echo "‚úÖ Push successful!"
          fi
